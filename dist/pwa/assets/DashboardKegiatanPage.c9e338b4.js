import{V as K,r as _,ab as P,e as i,j as h,w as t,q as e,A as n,g as s,am as B,aY as l,x as I,aZ as S,f as w,i as Q,F as q,z as A,h as L,aA as R,a_ as V,a$ as j}from"./index.1ee64733.js";import{Q as H}from"./QPage.7d3494ae.js";import{u as M}from"./useKegiatanService.0e52cf34.js";import{u as N}from"./useSyncService.815da529.js";import{u as U}from"./use-quasar.da3e8f94.js";import{u as $}from"./useAuth.b5eb2b64.js";import{_ as F}from"./plugin-vue_export-helper.21dcd24c.js";import"./local-forage.02328131.js";import"./_commonjsHelpers.dffb1198.js";import"./axios.c24f7249.js";import"./useOnlineStatus.722ec8b5.js";import"./index.es.ecfcdd39.js";const z=()=>({daysUntil:c=>{const p=new Date(c),m=new Date,g=p-m;return Math.ceil(g/(1e3*60*60*24))}});const f=r=>(V("data-v-57169c28"),r=r(),j(),r),E={class:"text-center text-weight-bold text-blue-7"},O=f(()=>e("br",null,null,-1)),T={class:"col-4 text-right"},Y=f(()=>e("br",null,null,-1)),Z={class:"text-h6"},G={class:"row justify-around"},J={class:"text-h5 text-center"},W={class:"text-caption text-center"},X={class:"text-subtitle2"},ee=f(()=>e("div",{class:"text-subtitle2"},"Data loaded",-1)),te={__name:"DashboardKegiatanPage",setup(r){const c=U(),p=z(),m=K(),g=N();_(null);const v=M(),o=_(null);$();const u=_(null),k=_({Open:0,Submit:0,Reject:0,Pending:0,Approved:30});P(async()=>{let d=null;if(!Boolean(u.value))try{d=c.notify({progress:!0,message:"Mengambil data",spinner:!0,color:"blue",textColor:"white"}),u.value=await g.handleLoadKegiatan(),d()}catch(y){d=c.notify({type:"negative",progress:!0,message:y.message})}o.value=await v.getSelectedKegiatan(),console.log(u)});const C=async()=>{m.push(`/nav/kegiatans/${o.value.id}/list-level-1`)};return(d,y)=>(i(),h(H,{class:"q-pa-md"},{default:t(()=>{var x,b;return[e("h5",E,n((x=o.value)==null?void 0:x.nama)+" "+n((b=o.value)==null?void 0:b.tahun),1),O,e("div",T,[s(B,{icon:"sync",color:"primary",label:"Sync Periode",rounded:""})]),Y,s(S,{class:"my-card"},{default:t(()=>[s(l),s(l,null,{default:t(()=>[I((i(),h(S,{class:"bg-primary text-white",onClick:C},{default:t(()=>[s(l,null,{default:t(()=>{var a;return[e("div",Z,n((a=o.value)==null?void 0:a.subkategori),1)]}),_:1}),s(l,{class:"q-pt-none"},{default:t(()=>[e("div",G,[(i(!0),w(q,null,Q(k.value,(a,D)=>(i(),w("div",{key:D,class:"ext-center"},[e("div",J,n(a),1),e("div",W,n(D),1)]))),128))])]),_:1}),s(l,null,{default:t(()=>{var a;return[e("div",X,"Selesai "+n(A(p).daysUntil((a=o.value)==null?void 0:a.tgl_tutup))+" Hari Lagi - PPL ",1)]}),_:1}),u.value!=null?(i(),h(l,{key:0},{default:t(()=>[ee]),_:1})):L("",!0)]),_:1})),[[R]])]),_:1})]),_:1})]}),_:1}))}};var me=F(te,[["__scopeId","data-v-57169c28"]]);export{me as default};
