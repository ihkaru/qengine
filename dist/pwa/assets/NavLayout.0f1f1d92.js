import{V as b,W as h,r as m,ab as S,ac as T,q as x,c as d,a as B,b as o,i as l,w as a,n as K,y as f,f as t,ap as i,ar as p,z as D,v as L,X as H,Y as I,k as N,aE as R}from"./index.6100804f.js";import{Q as V,a as q,b as z}from"./QHeader.4cd33d3d.js";import{Q as A,a as M,b as P}from"./QList.6c3b06f2.js";import{Q as E}from"./QMenu.d9bbb477.js";import{Q as F}from"./QPageContainer.4989f1d0.js";import{Q as O}from"./QLayout.62ebed7c.js";import{C as W}from"./ClosePopup.38dbbf9b.js";import{u as X}from"./use-quasar.087a6977.js";import{u as Y}from"./useBackHandler.6055384d.js";import{u as $}from"./useSyncService.2b6924ae.js";import"./QResizeObserver.91805d73.js";import"./selection.e257dc29.js";import"./useOnlineStatus.7641e145.js";const ce={__name:"NavLayout",setup(j){const n=X(),v=$();b();const s=h(),r=m(null),_=S(),y=Y(),c=m(s.meta.title||"Default Title");T(async()=>{r.value=await _.getSelectedKegiatan(),console.log(r.value)}),x(s,e=>{c.value=e.meta.title||"Default Title"});const g=d(()=>{var e;return console.log("called enter"),((e=s.meta.transition)==null?void 0:e.enter)||"animated fadeIn"}),Q=d(()=>{var e;return console.log("called leave"),((e=s.meta.transition)==null?void 0:e.leave)||"animated fadeOut"}),k=async()=>{let e=0;try{e=n.notify({spinner:!0,message:"Sync",color:"blue",textColor:"white"}),await v.syncKegiatan(r.value.id),e()}catch(u){e(),n.notify({message:u.message,type:"negative"})}};return(e,u)=>{const w=B("router-view");return o(),l(O,{view:"lHh Lpr lFf",class:K({"body--dark":f(n).dark.isActive})},{default:a(()=>[t(z,{elevated:"",class:"bg-primary text-white"},{default:a(()=>[t(V,null,{default:a(()=>[t(i,{dense:"",flat:"",round:"",icon:"arrow_back",onClick:f(y).goBack},null,8,["onClick"]),t(q,null,{default:a(()=>[p(D(c.value),1)]),_:1}),t(i,{dense:"",flat:"",round:"",icon:"info"}),t(i,{dense:"",flat:"",round:"",icon:"more_vert"},{default:a(()=>[t(E,null,{default:a(()=>[t(A,null,{default:a(()=>[L((o(),l(M,{onClick:k,clickable:"",style:{"min-width":"150px"}},{default:a(()=>[t(P,null,{default:a(()=>[p(" Sync ")]),_:1})]),_:1})),[[R],[W]])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(F,null,{default:a(()=>[t(w,null,{default:a(({Component:C})=>[(o(),l(H,null,[t(I,{appear:"","enter-active-class":g.value,"leave-active-class":Q.value,mode:"out-in"},{default:a(()=>[(o(),l(N(C)))]),_:2},1032,["enter-active-class","leave-active-class"])],1024))]),_:1})]),_:1})]),_:1},8,["class"])}}};export{ce as default};
