import{X as U,c as h,_ as d,$ as X,r as D,am as G,w as S,an as M,ao as Y,o as F,J as z,P as O,ae as Z,ag as ee,ap as te,aq as ae,ar as E,ab as ne,d as oe,al as le,e as ie,j as se,q as k,m as t,g as w,z as re,y as H,W as m}from"./index.02c4ff33.js";import{u as ce,a as ue,b as de,c as me}from"./use-panel.640c7e06.js";import{Q as ge}from"./QPage.a1eeb1d9.js";import{u as ve}from"./useAuth.de030a84.js";import{o as fe,_ as he}from"./index.es.e2c7cf4c.js";import{u as xe}from"./use-quasar.7a74fcd9.js";import"./local-forage.02328131.js";import"./_commonjsHelpers.dffb1198.js";import"./axios.663a392c.js";var B=U({name:"QCarouselSlide",props:{...ce,imgSrc:String},setup(e,{slots:o}){const l=h(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>d("div",{class:"q-carousel__slide",style:l.value},X(o.default))}});let C=0;const _e={fullscreen:Boolean,noRouteFullscreenExit:Boolean},pe=["update:fullscreen","fullscreen"];function be(){const e=O(),{props:o,emit:l,proxy:s}=e;let a,g,_;const i=D(!1);G(e)===!0&&S(()=>s.$route.fullPath,()=>{o.noRouteFullscreenExit!==!0&&u()}),S(()=>o.fullscreen,f=>{i.value!==f&&p()}),S(i,f=>{l("update:fullscreen",f),l("fullscreen",f)});function p(){i.value===!0?u():v()}function v(){i.value!==!0&&(i.value=!0,_=s.$el.parentNode,_.replaceChild(g,s.$el),document.body.appendChild(s.$el),C++,C===1&&document.body.classList.add("q-body--fullscreen-mixin"),a={handler:u},M.add(a))}function u(){i.value===!0&&(a!==void 0&&(M.remove(a),a=void 0),_.replaceChild(s.$el,g),i.value=!1,C=Math.max(0,C-1),C===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),s.$el.scrollIntoView!==void 0&&setTimeout(()=>{s.$el.scrollIntoView()})))}return Y(()=>{g=document.createElement("span")}),F(()=>{o.fullscreen===!0&&v()}),z(u),Object.assign(s,{toggleFullscreen:p,setFullscreen:v,exitFullscreen:u}),{inFullscreen:i,toggleFullscreen:p}}const ye=["top","right","bottom","left"],qe=["regular","flat","outline","push","unelevated"];var ke=U({name:"QCarousel",props:{...Z,...ue,..._e,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>qe.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>ye.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...pe,...de],setup(e,{slots:o}){const{proxy:{$q:l}}=O(),s=ee(e,l);let a=null,g;const{updatePanelsList:_,getPanelContent:i,panelDirectives:p,goToPanel:v,previousPanel:u,nextPanel:f,getEnabledPanels:b,panelIndex:c}=me(),{inFullscreen:x}=be(),y=h(()=>x.value!==!0&&e.height!==void 0?{height:e.height}:{}),P=h(()=>e.vertical===!0?"vertical":"horizontal"),V=h(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),J=h(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(x.value===!0?" fullscreen":"")+(s.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${P.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${V.value}`:"")),j=h(()=>{const n=[e.prevIcon||l.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||l.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&l.lang.rtl===!0?n.reverse():n}),N=h(()=>e.navigationIcon||l.iconSet.carousel.navigationIcon),K=h(()=>e.navigationActiveIcon||N.value),$=h(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));S(()=>e.modelValue,()=>{e.autoplay&&I()}),S(()=>e.autoplay,n=>{n?I():a!==null&&(clearTimeout(a),a=null)});function I(){const n=te(e.autoplay)===!0?Math.abs(e.autoplay):5e3;a!==null&&clearTimeout(a),a=setTimeout(()=>{a=null,n>=0?f():u()},n)}F(()=>{e.autoplay&&I()}),z(()=>{a!==null&&clearTimeout(a)});function R(n,q){return d("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${n} q-carousel__navigation--${V.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[d("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},b().map(q))])}function W(){const n=[];if(e.navigation===!0){const q=o["navigation-icon"]!==void 0?o["navigation-icon"]:r=>d(E,{key:"nav"+r.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${r.active===!0?"":"in"}active`,...r.btnProps,onClick:r.onClick}),T=g-1;n.push(R("buttons",(r,A)=>{const L=r.props.name,Q=c.value===A;return q({index:A,maxIndex:T,name:L,active:Q,btnProps:{icon:Q===!0?K.value:N.value,size:"sm",...$.value},onClick:()=>{v(L)}})}))}else if(e.thumbnails===!0){const q=e.controlColor!==void 0?` text-${e.controlColor}`:"";n.push(R("thumbnails",T=>{const r=T.props;return d("img",{key:"tmb#"+r.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${r.name===e.modelValue?"":"in"}active`+q,src:r.imgSrc||r["img-src"],onClick:()=>{v(r.name)}})}))}return e.arrows===!0&&c.value>=0&&((e.infinite===!0||c.value>0)&&n.push(d("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${P.value} absolute flex flex-center`},[d(E,{icon:j.value[0],...$.value,onClick:u})])),(e.infinite===!0||c.value<g-1)&&n.push(d("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${P.value} absolute flex flex-center`},[d(E,{icon:j.value[1],...$.value,onClick:f})]))),ne(o.control,n)}return()=>(g=_(o),d("div",{class:J.value,style:y.value},[ae("div",{class:"q-carousel__slides-container"},i(),"sl-cont",e.swipeable,()=>p.value)].concat(W())))}});const we={class:"column items-center q-pa-md",style:{"max-width":"450px"}},Ce={class:"text-center"},Se=t("div",{class:"text-center q-mb-lg"},[t("img",{src:"caro1.jpg",style:{width:"200px",height:"200px"}})],-1),Pe=t("h4",{class:"text-h5 text-weight-bold q-mb-sm text-blue-10"},[m("Selamat Datang di "),t("br"),m("CERDAS")],-1),$e=t("p",{class:"text-body2 text-center q-mb-lg"},[m(" Catatan Elektronik Responden Aktual dan Sistematis "),t("br"),m(" Satu aplikasi untuk berbagai jenis pendataan. ")],-1),Ie=t("div",{class:"text-center"},[t("div",{class:"text-center q-mb-lg"},[t("img",{src:"caro2.jpg",style:{width:"200px",height:"200px"}})]),t("h4",{class:"text-h5 text-weight-bold q-mb-sm text-blue-10"},[m("Selamat Datang di "),t("br"),m("CERDAS")]),t("p",{class:"text-body2 text-center q-mb-lg"}," Hasil pendataan dapat langsung dikirim dan dipantau secara Realtime ")],-1),Te=t("div",{class:"text-center"},[t("div",{class:"text-center q-mb-lg"},[t("img",{src:"caro3.jpg",style:{width:"200px",height:"200px"}})]),t("h4",{class:"text-h5 text-weight-bold q-mb-sm text-blue-10"},[m("Selamat Datang di "),t("br"),m("CERDAS")]),t("p",{class:"text-body2 text-center q-mb-lg"}," Dapat digunakan untuk melakukan wawancara secara offline ")],-1),Ee=t("br",null,null,-1),Be=t("p",{class:"text-caption text-center"},[m(" Dengan melakukan login, anda setuju dengan "),t("a",{href:"#",class:"text-primary"},"Kebijakan Privasi"),m(" kami ")],-1),De=t("p",{class:"text-caption text-center"}," Heavily inspired by Fasih BPS! ",-1),He=oe({name:"IndexPage",__name:"LoginPage",setup(e){const o=xe(),l=D(1),{login:s,token:a,redirectIfTokenExpired:g,setUser:_,isTokenExpired:i,initToken:p}=ve(),v=le();F(async()=>{p(),console.log("This is token value:",await g()),console.log("is token expired",i()),i()||v.push("/home/beranda")});const u=async b=>{try{const c=o.notify({progress:!0,spinner:!0,message:"Mohon tunggu..",timeout:1e4}),{credential:x}=b,y=he(x);console.log("User:",y),console.log("Credential: ",x),await s(y.email,x),_(y),console.log("Token",a.value),console.log(b),c(),v.push("/home/beranda")}catch(c){o.notify({type:"negative",progress:!0,message:"Terjadi kesalahan: "+c.message,timeout:5e3})}},f=()=>{o.notify({type:"negative",message:"Login gagal",progress:!0,timeout:2e3})};return D({}),(b,c)=>(ie(),se(ge,{class:"flex flex-center",flat:""},{default:k(()=>[t("div",we,[w(ke,{modelValue:l.value,"onUpdate:modelValue":c[0]||(c[0]=x=>l.value=x),"transition-prev":"slide-right","transition-next":"slide-left",swipeable:"",animated:"","control-color":"primary",navigation:"",padding:"",flat:"",height:"500px",class:"rounded-borders q-mb-lg"},{default:k(()=>[w(B,{name:1,class:"column no-wrap flex-center"},{default:k(()=>[t("div",Ce,[Se,Pe,$e,t("p",null,"Token Exist: "+re(Boolean(H(a))),1)])]),_:1}),w(B,{name:2,class:"column no-wrap flex-center"},{default:k(()=>[Ie]),_:1}),w(B,{name:3,class:"column no-wrap flex-center"},{default:k(()=>[Te]),_:1})]),_:1},8,["modelValue"]),w(H(fe),{onSuccess:u,onError:f}),Ee,Be,De])]),_:1}))}});export{He as default};
