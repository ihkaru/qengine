import{Q as C,a as r,b as A,C as k}from"./ClosePopup.94804225.js";import{V as w,W as R,r as c,ab as T,o as Q,a as S,e as q,j as V,w as a,g as e,z as K,aC as M,aB as g,am as l,an as i,by as N,x as B,bg as D,q as P}from"./index.9e422fbf.js";import{Q as j}from"./QPage.74e83d43.js";import{s as F}from"./survey.core.64faafd5.js";import{u as L}from"./use-quasar.0b8f6d61.js";import{u as I}from"./useKegiatanService.d8f972e9.js";import"./_commonjsHelpers.dffb1198.js";import"./local-forage.02328131.js";import"./axios.80f71d3c.js";const J=P("div",{class:"text-h6"},"Approval",-1),Z={__name:"FormPage",setup(O){const u=L(),d=w(),p=R(),o=c(!1),f=function(){o.value=!o.value},s=c(null),b=I();T(async()=>{s.value=await b.getSelectedKegiatan(),console.log(s.value)}),Q(async()=>{p.query.mode=="tambahAssignment"&&u.notify({progress:!0,message:"Mode tambah assignment",icon:"info",color:"blue",textColor:"white",timeout:2e3}),p.query.mode=="editAssignment"&&u.notify({progress:!0,message:"Mode edit assignment",icon:"info",color:"blue",textColor:"white",timeout:2e3})});const v=t=>{const n=JSON.stringify(t.data);alert(n)},x=()=>{d.push({path:`/nav/kegiatans/${s.value.id}/haha`,query:{isSaveSuccess:!0}})},_={questions:[{type:"text",name:"kepalaRumahTangga",title:"Nama Kepala Rumah Tangga",isRequired:!0},{type:"paneldynamic",name:"anggotaRumahTangga",title:"Anggota Rumah Tangga Lainnya",renderMode:"progressTop",panelCount:1,panelAddText:"Tambahkan Anggota Rumah Tangga",panelRemoveText:"Hapus Anggota Rumah Tangga",templateTitle:"Anggota #{panelIndex}",templateElements:[{type:"text",name:"namaAnggota",title:"Nama Anggota",isRequired:!0}]}]},m=new F.exports.Model(_);return m.onComplete.add(function(t){navigator.onLine?v(t):(window.localStorage.setItem("surveyResults",JSON.stringify(t.data)),alert("Data disimpan secara lokal"))}),(t,n)=>{const y=S("SurveyComponent");return q(),V(j,{class:"flex flex-center"},{default:a(()=>[e(y,{model:K(m)},null,8,["model"]),e(A,{position:"bottom-right",offset:[18,18]},{default:a(()=>[e(C,{icon:"touch_app",direction:"up",color:"blue-10","external-label":""},{default:a(()=>[e(r,{"external-label":"",color:"warning",icon:"settings_backup_restore",label:"Muat ulang","label-position":"left"}),e(r,{"external-label":"",color:"orange",icon:"gps_fixed",label:"Lokasi","label-position":"left"}),e(r,{"external-label":"",color:"positive",icon:"done",label:"Approval","label-position":"left",onClick:f})]),_:1})]),_:1}),e(D,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=h=>o.value=h)},{default:a(()=>[e(M,null,{default:a(()=>[e(g,null,{default:a(()=>[J]),_:1}),e(g,{class:"q-pt-none"},{default:a(()=>[e(l,{style:{width:"300px","margin-bottom":"20px"},color:"green-9 block"},{default:a(()=>[i("Approve")]),_:1}),e(l,{style:{width:"300px","margin-bottom":"20px"},color:"red-10 block"},{default:a(()=>[i("Reject")]),_:1}),e(l,{style:{width:"300px","margin-bottom":"20px"},color:"teal block w-10",onClick:x},{default:a(()=>[i("Simpan dan Keluar")]),_:1})]),_:1}),e(N,{align:"right"},{default:a(()=>[B(e(l,{flat:"",label:"Tutup",color:"primary"},null,512),[[k]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}};export{Z as default};
