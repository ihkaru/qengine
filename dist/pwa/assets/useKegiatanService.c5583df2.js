import a from"./local-forage.02328131.js";import{api as L}from"./axios.dce30205.js";import{r as s,o as B}from"./index.e7948fdc.js";function _(){const l=s(null),i=s(null),w=s(null),t=s(null),n=s(null),o=async()=>(Boolean(l.value)||(l.value=await a.getItem("kegiatans")),l.value),I=async e=>{await a.setItem("isLoggedIn",e),w.value=e},c=async()=>await a.getItem("isLoggedIn"),g=async e=>{await a.setItem("kegiatans",e),l.value=e},u=async()=>{t.value=JSON.parse(await a.getItem("selectedKegiatan"))},m=async()=>(Boolean(t.value)||await u(),t.value),f=async e=>{t.value=e,console.log(t.value),await a.setItem("selectedKegiatan",JSON.stringify(t.value))},r=async()=>{n.value=JSON.parse(await a.getItem("selectedLevel1"))},k=async()=>(Boolean(n.value)||await r(),n.value),p=async e=>{n.value=e,console.log("selected:",n.value),await a.setItem("selectedLevel1",JSON.stringify(n.value)),console.log()},S=async()=>(Boolean(i.value)||(i.value=await a.getItem("rekapitulasi_kegiatan")),i.value),v=async e=>{await a.setItem("rekapitulasi_kegiatan",e),i.value=e},d=async(e=!1)=>{(!Boolean(await o())&&await c()||e)&&L.get("/kegiatans?per_page=30").then(async y=>{await v(y.data.rekapitulasi),await g(y.data.kegiatans)})},K=async()=>{await g(null),await v(null)};return B(async()=>{await d()}),{getKegiatans:o,getRekapitulasiKegiatan:S,handleLogoutKegiatanService:K,setIsLoggedIn:I,getIsLoggedIn:c,initKegiatanService:d,getSelectedKegiatan:m,setSelectedKegiatan:f,loadSelectedKegiatan:u,getSelectedLevel1:k,setSelectedLevel1:p,loadSelectedLevel1:r}}export{_ as u};
