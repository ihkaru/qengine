import{Q as h,a as r,b as y,C as k}from"./ClosePopup.d9cd67eb.js";import{V as A,r as p,al as C,a as R,e as T,j as w,w as e,g as a,z as Q,aB as S,aA as c,ak as n,am as i,by as V,x as K,bf as N,q as B}from"./index.f689dd7e.js";import{Q as q}from"./QPage.e44331c3.js";import{s as D}from"./survey.core.64faafd5.js";import{u as M}from"./use-quasar.67eabf60.js";import{u as P}from"./useKegiatanService.c6895095.js";import"./_commonjsHelpers.dffb1198.js";import"./local-forage.02328131.js";import"./axios.7ff5b37b.js";const j=B("div",{class:"text-h6"},"Approval",-1),G={__name:"FormPage",setup(F){M();const m=A(),o=p(!1),g=function(){o.value=!o.value},s=p(null),d=P();C(async()=>{s.value=await d.getSelectedKegiatan(),console.log(s.value)});const f=t=>{const l=JSON.stringify(t.data);alert(l)},_=()=>{m.push(`/nav/kegiatans/${s.value.id}/haha`)},b={questions:[{type:"text",name:"kepalaRumahTangga",title:"Nama Kepala Rumah Tangga",isRequired:!0},{type:"paneldynamic",name:"anggotaRumahTangga",title:"Anggota Rumah Tangga Lainnya",renderMode:"progressTop",panelCount:1,panelAddText:"Tambahkan Anggota Rumah Tangga",panelRemoveText:"Hapus Anggota Rumah Tangga",templateTitle:"Anggota #{panelIndex}",templateElements:[{type:"text",name:"namaAnggota",title:"Nama Anggota",isRequired:!0}]}]},u=new D.exports.Model(b);return u.onComplete.add(function(t){navigator.onLine?f(t):(window.localStorage.setItem("surveyResults",JSON.stringify(t.data)),alert("Data disimpan secara lokal"))}),(t,l)=>{const v=R("SurveyComponent");return T(),w(q,{class:"flex flex-center"},{default:e(()=>[a(v,{model:Q(u)},null,8,["model"]),a(y,{position:"bottom-right",offset:[18,18]},{default:e(()=>[a(h,{icon:"touch_app",direction:"up",color:"blue-10","external-label":""},{default:e(()=>[a(r,{"external-label":"",color:"warning",icon:"settings_backup_restore",label:"Muat ulang","label-position":"left"}),a(r,{"external-label":"",color:"orange",icon:"gps_fixed",label:"Lokasi","label-position":"left"}),a(r,{"external-label":"",color:"positive",icon:"done",label:"Approval","label-position":"left",onClick:g})]),_:1})]),_:1}),a(N,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=x=>o.value=x)},{default:e(()=>[a(S,null,{default:e(()=>[a(c,null,{default:e(()=>[j]),_:1}),a(c,{class:"q-pt-none"},{default:e(()=>[a(n,{style:{width:"300px","margin-bottom":"20px"},color:"green-9 block"},{default:e(()=>[i("Approve")]),_:1}),a(n,{style:{width:"300px","margin-bottom":"20px"},color:"red-10 block"},{default:e(()=>[i("Reject")]),_:1}),a(n,{style:{width:"300px","margin-bottom":"20px"},color:"teal block w-10",onClick:_},{default:e(()=>[i("Simpan dan Keluar")]),_:1})]),_:1}),a(V,{align:"right"},{default:e(()=>[K(a(n,{flat:"",label:"Tutup",color:"primary"},null,512),[[k]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}};export{G as default};
