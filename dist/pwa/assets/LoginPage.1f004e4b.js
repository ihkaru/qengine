import{X as H,c as h,_ as d,$ as X,r as B,am as G,t as S,an as Q,ao as Y,o as D,J as z,P as O,ae as Z,ag as ee,ap as te,aq as ae,ar as T,ab as ne,d as oe,al as le,e as ie,j as se,w as q,q as t,g as k,A as re,z as M,W as m}from"./index.1f0c2728.js";import{u as ce,a as ue,b as de,c as me}from"./use-panel.9ab6970a.js";import{Q as ge}from"./QPage.c2b83899.js";import{u as ve}from"./useAuth.8497a0d3.js";import{o as fe}from"./index.es.11502c76.js";import{u as he}from"./use-quasar.5b2b6d73.js";import"./local-forage.02328131.js";import"./_commonjsHelpers.dffb1198.js";import"./axios.9d3f25b8.js";var E=H({name:"QCarouselSlide",props:{...ce,imgSrc:String},setup(e,{slots:o}){const l=h(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>d("div",{class:"q-carousel__slide",style:l.value},X(o.default))}});let w=0;const xe={fullscreen:Boolean,noRouteFullscreenExit:Boolean},_e=["update:fullscreen","fullscreen"];function pe(){const e=O(),{props:o,emit:l,proxy:s}=e;let a,g,_;const i=B(!1);G(e)===!0&&S(()=>s.$route.fullPath,()=>{o.noRouteFullscreenExit!==!0&&u()}),S(()=>o.fullscreen,f=>{i.value!==f&&x()}),S(i,f=>{l("update:fullscreen",f),l("fullscreen",f)});function x(){i.value===!0?u():v()}function v(){i.value!==!0&&(i.value=!0,_=s.$el.parentNode,_.replaceChild(g,s.$el),document.body.appendChild(s.$el),w++,w===1&&document.body.classList.add("q-body--fullscreen-mixin"),a={handler:u},Q.add(a))}function u(){i.value===!0&&(a!==void 0&&(Q.remove(a),a=void 0),_.replaceChild(s.$el,g),i.value=!1,w=Math.max(0,w-1),w===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),s.$el.scrollIntoView!==void 0&&setTimeout(()=>{s.$el.scrollIntoView()})))}return Y(()=>{g=document.createElement("span")}),D(()=>{o.fullscreen===!0&&v()}),z(u),Object.assign(s,{toggleFullscreen:x,setFullscreen:v,exitFullscreen:u}),{inFullscreen:i,toggleFullscreen:x}}const be=["top","right","bottom","left"],ye=["regular","flat","outline","push","unelevated"];var qe=H({name:"QCarousel",props:{...Z,...ue,...xe,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>ye.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>be.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[..._e,...de],setup(e,{slots:o}){const{proxy:{$q:l}}=O(),s=ee(e,l);let a=null,g;const{updatePanelsList:_,getPanelContent:i,panelDirectives:x,goToPanel:v,previousPanel:u,nextPanel:f,getEnabledPanels:b,panelIndex:c}=me(),{inFullscreen:p}=pe(),U=h(()=>p.value!==!0&&e.height!==void 0?{height:e.height}:{}),C=h(()=>e.vertical===!0?"vertical":"horizontal"),F=h(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),J=h(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(p.value===!0?" fullscreen":"")+(s.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${C.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${F.value}`:"")),V=h(()=>{const n=[e.prevIcon||l.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||l.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&l.lang.rtl===!0?n.reverse():n}),j=h(()=>e.navigationIcon||l.iconSet.carousel.navigationIcon),K=h(()=>e.navigationActiveIcon||j.value),P=h(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));S(()=>e.modelValue,()=>{e.autoplay&&$()}),S(()=>e.autoplay,n=>{n?$():a!==null&&(clearTimeout(a),a=null)});function $(){const n=te(e.autoplay)===!0?Math.abs(e.autoplay):5e3;a!==null&&clearTimeout(a),a=setTimeout(()=>{a=null,n>=0?f():u()},n)}D(()=>{e.autoplay&&$()}),z(()=>{a!==null&&clearTimeout(a)});function A(n,y){return d("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${n} q-carousel__navigation--${F.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[d("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},b().map(y))])}function W(){const n=[];if(e.navigation===!0){const y=o["navigation-icon"]!==void 0?o["navigation-icon"]:r=>d(T,{key:"nav"+r.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${r.active===!0?"":"in"}active`,...r.btnProps,onClick:r.onClick}),I=g-1;n.push(A("buttons",(r,N)=>{const R=r.props.name,L=c.value===N;return y({index:N,maxIndex:I,name:R,active:L,btnProps:{icon:L===!0?K.value:j.value,size:"sm",...P.value},onClick:()=>{v(R)}})}))}else if(e.thumbnails===!0){const y=e.controlColor!==void 0?` text-${e.controlColor}`:"";n.push(A("thumbnails",I=>{const r=I.props;return d("img",{key:"tmb#"+r.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${r.name===e.modelValue?"":"in"}active`+y,src:r.imgSrc||r["img-src"],onClick:()=>{v(r.name)}})}))}return e.arrows===!0&&c.value>=0&&((e.infinite===!0||c.value>0)&&n.push(d("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${C.value} absolute flex flex-center`},[d(T,{icon:V.value[0],...P.value,onClick:u})])),(e.infinite===!0||c.value<g-1)&&n.push(d("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${C.value} absolute flex flex-center`},[d(T,{icon:V.value[1],...P.value,onClick:f})]))),ne(o.control,n)}return()=>(g=_(o),d("div",{class:J.value,style:U.value},[ae("div",{class:"q-carousel__slides-container"},i(),"sl-cont",e.swipeable,()=>x.value)].concat(W())))}});const ke={class:"column items-center q-pa-md",style:{"max-width":"450px"}},we={class:"text-center"},Se=t("div",{class:"text-center q-mb-lg"},[t("img",{src:"caro1.jpg",style:{width:"200px",height:"200px"}})],-1),Ce=t("h4",{class:"text-h5 text-weight-bold q-mb-sm text-blue-10"},[m("Selamat Datang di "),t("br"),m("CERDAS")],-1),Pe=t("p",{class:"text-body2 text-center q-mb-lg"},[m(" Catatan Elektronik Responden Aktual dan Sistematis "),t("br"),m(" Satu aplikasi untuk berbagai jenis pendataan. ")],-1),$e=t("div",{class:"text-center"},[t("div",{class:"text-center q-mb-lg"},[t("img",{src:"caro2.jpg",style:{width:"200px",height:"200px"}})]),t("h4",{class:"text-h5 text-weight-bold q-mb-sm text-blue-10"},[m("Selamat Datang di "),t("br"),m("CERDAS")]),t("p",{class:"text-body2 text-center q-mb-lg"}," Hasil pendataan dapat langsung dikirim dan dipantau secara Realtime ")],-1),Ie=t("div",{class:"text-center"},[t("div",{class:"text-center q-mb-lg"},[t("img",{src:"caro3.jpg",style:{width:"200px",height:"200px"}})]),t("h4",{class:"text-h5 text-weight-bold q-mb-sm text-blue-10"},[m("Selamat Datang di "),t("br"),m("CERDAS")]),t("p",{class:"text-body2 text-center q-mb-lg"}," Dapat digunakan untuk melakukan wawancara secara offline ")],-1),Te=t("br",null,null,-1),Ee=t("p",{class:"text-caption text-center"},[m(" Dengan melakukan login, anda setuju dengan "),t("a",{href:"#",class:"text-primary"},"Kebijakan Privasi"),m(" kami ")],-1),Be=t("p",{class:"text-caption text-center"}," Heavily inspired by Fasih BPS! ",-1),Me=oe({name:"IndexPage",__name:"LoginPage",setup(e){const o=he(),l=B(1),{login:s,token:a,redirectIfTokenExpired:g,setUser:_,isTokenExpired:i,initToken:x}=ve(),v=le();D(async()=>{x(),console.log("This is token value:",await g()),console.log("is token expired",i()),i()||v.push("/home/beranda")});const u=async b=>{try{const c=o.notify({progress:!0,spinner:!0,message:"Mohon tunggu..",timeout:1e4}),{credential:p}=b;await s(p),console.log("Token",a.value),console.log(b),c(),v.push("/home/beranda")}catch(c){o.notify({type:"negative",progress:!0,message:"Terjadi kesalahan: "+c.message,timeout:5e3})}},f=()=>{o.notify({type:"negative",message:"Login gagal",progress:!0,timeout:2e3})};return B({}),(b,c)=>(ie(),se(ge,{class:"flex flex-center",flat:""},{default:q(()=>[t("div",ke,[k(qe,{modelValue:l.value,"onUpdate:modelValue":c[0]||(c[0]=p=>l.value=p),"transition-prev":"slide-right","transition-next":"slide-left",swipeable:"",animated:"","control-color":"primary",navigation:"",padding:"",flat:"",height:"500px",class:"rounded-borders q-mb-lg"},{default:q(()=>[k(E,{name:1,class:"column no-wrap flex-center"},{default:q(()=>[t("div",we,[Se,Ce,Pe,t("p",null,"Token Exist: "+re(Boolean(M(a))),1)])]),_:1}),k(E,{name:2,class:"column no-wrap flex-center"},{default:q(()=>[$e]),_:1}),k(E,{name:3,class:"column no-wrap flex-center"},{default:q(()=>[Ie]),_:1})]),_:1},8,["modelValue"]),k(M(fe),{onSuccess:u,onError:f}),Te,Ee,Be])]),_:1}))}});export{Me as default};
