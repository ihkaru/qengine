import{Z as se,a9 as h,ag as ze,ai as et,aj as tt,c as g,al as at,P as Se,S as Fe,af as ie,r as m,J as qe,o as Ke,bt as Ue,x as oe,aA as re,au as Me,aE as lt,bj as nt,b0 as P,a8 as We,bf as ot,bu as rt,aK as Be,aL as De,t as W,a7 as it,b3 as st,b4 as ut,a4 as ct,aa as dt,bv as vt,bw as ft,W as mt,V as ht,ab as gt,e as J,j as ne,w as r,g as l,q as f,A as O,am as fe,z as me,n as bt,aZ as Re,aY as Ne,f as _t,i as pt,F as yt,bx as wt,an as Z,by as Ct,a_ as kt,a$ as Tt}from"./index.1ee64733.js";import{u as St,a as qt,b as Lt,c as xt}from"./use-panel.19405177.js";import{a as he,b as I,Q as Pt}from"./QList.4e985adf.js";import{Q as Ce}from"./QItemLabel.2a463658.js";import{Q as je}from"./QResizeObserver.7eba5d0f.js";import{r as At}from"./rtl.276c3f1b.js";import{Q as Bt}from"./QPage.7d3494ae.js";import{u as Rt}from"./use-quasar.da3e8f94.js";import{u as It}from"./useAuth.b5eb2b64.js";import{u as Et}from"./useOnlineStatus.722ec8b5.js";import{u as Qt}from"./useKegiatanService.0e52cf34.js";import{u as $t}from"./useBackHandler.f86d2596.js";import{_ as Vt}from"./plugin-vue_export-helper.21dcd24c.js";import"./touch.9135741d.js";import"./selection.96321035.js";import"./local-forage.02328131.js";import"./_commonjsHelpers.dffb1198.js";import"./axios.c24f7249.js";import"./index.es.ecfcdd39.js";var ke=se({name:"QTabPanel",props:St,setup(e,{slots:b}){return()=>h("div",{class:"q-tab-panel",role:"tabpanel"},ze(b.default))}}),Mt=se({name:"QTabPanels",props:{...qt,...et},emits:Lt,setup(e,{slots:b}){const _=Se(),d=tt(e,_.proxy.$q),{updatePanelsList:a,getPanelContent:A,panelDirectives:S}=xt(),M=g(()=>"q-tab-panels q-panel-parent"+(d.value===!0?" q-tab-panels--dark q-dark":""));return()=>(a(b),at("div",{class:M.value},A(),"pan",e.swipeable,()=>S.value))}});let Dt=0;const Nt=["click","keydown"],zt={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Dt++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Ft(e,b,_,d){const a=Fe(Ue,ie);if(a===ie)return console.error("QTab/QRouteTab component needs to be child of QTabs"),ie;const{proxy:A}=Se(),S=m(null),M=m(null),K=m(null),G=g(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),D=g(()=>a.currentModel.value===e.name),Y=g(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(D.value===!0?" q-tab--active"+(a.tabProps.value.activeClass?" "+a.tabProps.value.activeClass:"")+(a.tabProps.value.activeColor?` text-${a.tabProps.value.activeColor}`:"")+(a.tabProps.value.activeBgColor?` bg-${a.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&a.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||a.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(d!==void 0?d.linkClass.value:"")),V=g(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(a.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),L=g(()=>e.disable===!0||a.hasFocus.value===!0||D.value===!1&&a.hasActiveTab.value===!0?-1:e.tabindex||0);function E(i,C){if(C!==!0&&S.value!==null&&S.value.focus(),e.disable===!0){d!==void 0&&d.hasRouterLink.value===!0&&Me(i);return}if(d===void 0){a.updateModel({name:e.name}),_("click",i);return}if(d.hasRouterLink.value===!0){const o=(s={})=>{let k;const q=s.to===void 0||ot(s.to,e.to)===!0?a.avoidRouteWatcher=rt():null;return d.navigateToRouterLink(i,{...s,returnRouterError:!0}).catch(Q=>{k=Q}).then(Q=>{if(q===a.avoidRouteWatcher&&(a.avoidRouteWatcher=!1,k===void 0&&(Q===void 0||Q.message!==void 0&&Q.message.startsWith("Avoided redundant navigation")===!0)&&a.updateModel({name:e.name})),s.returnRouterError===!0)return k!==void 0?Promise.reject(k):Q})};_("click",i,o),i.defaultPrevented!==!0&&o();return}_("click",i)}function w(i){lt(i,[13,32])?E(i,!0):nt(i)!==!0&&i.keyCode>=35&&i.keyCode<=40&&i.altKey!==!0&&i.metaKey!==!0&&a.onKbdNavigate(i.keyCode,A.$el)===!0&&Me(i),_("keydown",i)}function B(){const i=a.tabProps.value.narrowIndicator,C=[],o=h("div",{ref:K,class:["q-tab__indicator",a.tabProps.value.indicatorClass]});e.icon!==void 0&&C.push(h(P,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&C.push(h("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&C.push(e.alertIcon!==void 0?h(P,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):h("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),i===!0&&C.push(o);const s=[h("div",{class:"q-focus-helper",tabindex:-1,ref:S}),h("div",{class:V.value},We(b.default,C))];return i===!1&&s.push(o),s}const U={name:g(()=>e.name),rootRef:M,tabIndicatorRef:K,routeData:d};qe(()=>{a.unregisterTab(U)}),Ke(()=>{a.registerTab(U)});function R(i,C){const o={ref:M,class:Y.value,tabindex:L.value,role:"tab","aria-selected":D.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:E,onKeydown:w,...C};return oe(h(i,o,B()),[[re,G.value]])}return{renderTab:R,$tabs:a}}var Te=se({name:"QTab",props:zt,emits:Nt,setup(e,{slots:b,emit:_}){const{renderTab:d}=Ft(e,b,_);return()=>d("div")}});function Kt(e,b,_){const d=_===!0?["left","right"]:["top","bottom"];return`absolute-${b===!0?d[0]:d[1]}${e?` text-${e}`:""}`}const Ut=["left","center","right","justify"];var Wt=se({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Ut.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:b,emit:_}){const{proxy:d}=Se(),{$q:a}=d,{registerTick:A}=Be(),{registerTick:S}=Be(),{registerTick:M}=Be(),{registerTimeout:K,removeTimeout:G}=De(),{registerTimeout:D,removeTimeout:Y}=De(),V=m(null),L=m(null),E=m(e.modelValue),w=m(!1),B=m(!0),U=m(!1),R=m(!1),i=[],C=m(0),o=m(!1);let s=null,k=null,q;const Q=g(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Kt(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),ue=g(()=>{const t=C.value,n=E.value;for(let u=0;u<t;u++)if(i[u].name.value===n)return!0;return!1}),Le=g(()=>`q-tabs__content--align-${w.value===!0?"left":R.value===!0?"justify":e.align}`),ge=g(()=>`q-tabs row no-wrap items-center q-tabs--${w.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),xe=g(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+Le.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),ee=g(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),te=g(()=>e.vertical!==!0&&a.lang.rtl===!0),ce=g(()=>At===!1&&te.value===!0);W(te,$),W(()=>e.modelValue,t=>{de({name:t,setCurrent:!0,skipEmit:!0})}),W(()=>e.outsideArrows,ae);function de({name:t,setCurrent:n,skipEmit:u}){E.value!==t&&(u!==!0&&e["onUpdate:modelValue"]!==void 0&&_("update:modelValue",t),(n===!0||e["onUpdate:modelValue"]===void 0)&&(T(E.value,t),E.value=t))}function ae(){A(()=>{be({width:V.value.offsetWidth,height:V.value.offsetHeight})})}function be(t){if(ee.value===void 0||L.value===null)return;const n=t[ee.value.container],u=Math.min(L.value[ee.value.scroll],Array.prototype.reduce.call(L.value.children,(y,v)=>y+(v[ee.value.content]||0),0)),p=n>0&&u>n;w.value=p,p===!0&&S($),R.value=n<parseInt(e.breakpoint,10)}function T(t,n){const u=t!=null&&t!==""?i.find(y=>y.name.value===t):null,p=n!=null&&n!==""?i.find(y=>y.name.value===n):null;if(u&&p){const y=u.tabIndicatorRef.value,v=p.tabIndicatorRef.value;s!==null&&(clearTimeout(s),s=null),y.style.transition="none",y.style.transform="none",v.style.transition="none",v.style.transform="none";const c=y.getBoundingClientRect(),x=v.getBoundingClientRect();v.style.transform=e.vertical===!0?`translate3d(0,${c.top-x.top}px,0) scale3d(1,${x.height?c.height/x.height:1},1)`:`translate3d(${c.left-x.left}px,0,0) scale3d(${x.width?c.width/x.width:1},1,1)`,M(()=>{s=setTimeout(()=>{s=null,v.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",v.style.transform="none"},70)})}p&&w.value===!0&&N(p.rootRef.value)}function N(t){const{left:n,width:u,top:p,height:y}=L.value.getBoundingClientRect(),v=t.getBoundingClientRect();let c=e.vertical===!0?v.top-p:v.left-n;if(c<0){L.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(c),$();return}c+=e.vertical===!0?v.height-y:v.width-u,c>0&&(L.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(c),$())}function $(){const t=L.value;if(t===null)return;const n=t.getBoundingClientRect(),u=e.vertical===!0?t.scrollTop:Math.abs(t.scrollLeft);te.value===!0?(B.value=Math.ceil(u+n.width)<t.scrollWidth-1,U.value=u>0):(B.value=u>0,U.value=e.vertical===!0?Math.ceil(u+n.height)<t.scrollHeight:Math.ceil(u+n.width)<t.scrollWidth)}function ve(t){k!==null&&clearInterval(k),k=setInterval(()=>{ye(t)===!0&&F()},5)}function z(){ve(ce.value===!0?Number.MAX_SAFE_INTEGER:0)}function le(){ve(ce.value===!0?0:Number.MAX_SAFE_INTEGER)}function F(){k!==null&&(clearInterval(k),k=null)}function _e(t,n){const u=Array.prototype.filter.call(L.value.children,x=>x===n||x.matches&&x.matches(".q-tab.q-focusable")===!0),p=u.length;if(p===0)return;if(t===36)return N(u[0]),u[0].focus(),!0;if(t===35)return N(u[p-1]),u[p-1].focus(),!0;const y=t===(e.vertical===!0?38:37),v=t===(e.vertical===!0?40:39),c=y===!0?-1:v===!0?1:void 0;if(c!==void 0){const x=te.value===!0?-1:1,j=u.indexOf(n)+c*x;return j>=0&&j<p&&(N(u[j]),u[j].focus({preventScroll:!0})),!0}}const pe=g(()=>ce.value===!0?{get:t=>Math.abs(t.scrollLeft),set:(t,n)=>{t.scrollLeft=-n}}:e.vertical===!0?{get:t=>t.scrollTop,set:(t,n)=>{t.scrollTop=n}}:{get:t=>t.scrollLeft,set:(t,n)=>{t.scrollLeft=n}});function ye(t){const n=L.value,{get:u,set:p}=pe.value;let y=!1,v=u(n);const c=t<v?-1:1;return v+=c*5,v<0?(y=!0,v=0):(c===-1&&v<=t||c===1&&v>=t)&&(y=!0,v=t),p(n,v),$(),y}function Ie(t,n){for(const u in t)if(t[u]!==n[u])return!1;return!0}function Oe(){let t=null,n={matchedLen:0,queryDiff:9999,hrefLen:0};const u=i.filter(c=>c.routeData!==void 0&&c.routeData.hasRouterLink.value===!0),{hash:p,query:y}=d.$route,v=Object.keys(y).length;for(const c of u){const x=c.routeData.exact.value===!0;if(c.routeData[x===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:j,query:Pe,matched:Ze,href:Je}=c.routeData.resolvedLink.value,Ae=Object.keys(Pe).length;if(x===!0){if(j!==p||Ae!==v||Ie(y,Pe)===!1)continue;t=c.name.value;break}if(j!==""&&j!==p||Ae!==0&&Ie(Pe,y)===!1)continue;const X={matchedLen:Ze.length,queryDiff:v-Ae,hrefLen:Je.length-j.length};if(X.matchedLen>n.matchedLen){t=c.name.value,n=X;continue}else if(X.matchedLen!==n.matchedLen)continue;if(X.queryDiff<n.queryDiff)t=c.name.value,n=X;else if(X.queryDiff!==n.queryDiff)continue;X.hrefLen>n.hrefLen&&(t=c.name.value,n=X)}t===null&&i.some(c=>c.routeData===void 0&&c.name.value===E.value)===!0||de({name:t,setCurrent:!0})}function He(t){if(G(),o.value!==!0&&V.value!==null&&t.target&&typeof t.target.closest=="function"){const n=t.target.closest(".q-tab");n&&V.value.contains(n)===!0&&(o.value=!0,w.value===!0&&N(n))}}function Ge(){K(()=>{o.value=!1},30)}function we(){Qe.avoidRouteWatcher===!1?D(Oe):Y()}function Ee(){if(q===void 0){const t=W(()=>d.$route.fullPath,we);q=()=>{t(),q=void 0}}}function Ye(t){i.push(t),C.value++,ae(),t.routeData===void 0||d.$route===void 0?D(()=>{if(w.value===!0){const n=E.value,u=n!=null&&n!==""?i.find(p=>p.name.value===n):null;u&&N(u.rootRef.value)}}):(Ee(),t.routeData.hasRouterLink.value===!0&&we())}function Xe(t){i.splice(i.indexOf(t),1),C.value--,ae(),q!==void 0&&t.routeData!==void 0&&(i.every(n=>n.routeData===void 0)===!0&&q(),we())}const Qe={currentModel:E,tabProps:Q,hasFocus:o,hasActiveTab:ue,registerTab:Ye,unregisterTab:Xe,verifyRouteModel:we,updateModel:de,onKbdNavigate:_e,avoidRouteWatcher:!1};it(Ue,Qe);function $e(){s!==null&&clearTimeout(s),F(),q!==void 0&&q()}let Ve;return qe($e),st(()=>{Ve=q!==void 0,$e()}),ut(()=>{Ve===!0&&Ee(),ae()}),()=>h("div",{ref:V,class:ge.value,role:"tablist",onFocusin:He,onFocusout:Ge},[h(je,{onResize:be}),h("div",{ref:L,class:xe.value,onScroll:$},ze(b.default)),h(P,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(B.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||a.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:z,onTouchstartPassive:z,onMouseupPassive:F,onMouseleavePassive:F,onTouchendPassive:F}),h(P,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(U.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||a.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:le,onTouchstartPassive:le,onMouseupPassive:F,onMouseleavePassive:F,onTouchendPassive:F})])}}),jt=se({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:b,emit:_}){const{proxy:{$q:d}}=Se(),a=Fe(dt,ie);if(a===ie)return console.error("QFooter needs to be child of QLayout"),ie;const A=m(parseInt(e.heightHint,10)),S=m(!0),M=m(ct.value===!0||a.isContainer.value===!0?0:window.innerHeight),K=g(()=>e.reveal===!0||a.view.value.indexOf("F")!==-1||d.platform.is.ios&&a.isContainer.value===!0),G=g(()=>a.isContainer.value===!0?a.containerHeight.value:M.value),D=g(()=>{if(e.modelValue!==!0)return 0;if(K.value===!0)return S.value===!0?A.value:0;const o=a.scroll.value.position+G.value+A.value-a.height.value;return o>0?o:0}),Y=g(()=>e.modelValue!==!0||K.value===!0&&S.value!==!0),V=g(()=>e.modelValue===!0&&Y.value===!0&&e.reveal===!0),L=g(()=>"q-footer q-layout__section--marginal "+(K.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(Y.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(K.value!==!0?" hidden":""):"")),E=g(()=>{const o=a.rows.value.bottom,s={};return o[0]==="l"&&a.left.space===!0&&(s[d.lang.rtl===!0?"right":"left"]=`${a.left.size}px`),o[2]==="r"&&a.right.space===!0&&(s[d.lang.rtl===!0?"left":"right"]=`${a.right.size}px`),s});function w(o,s){a.update("footer",o,s)}function B(o,s){o.value!==s&&(o.value=s)}function U({height:o}){B(A,o),w("size",o)}function R(){if(e.reveal!==!0)return;const{direction:o,position:s,inflectionPoint:k}=a.scroll.value;B(S,o==="up"||s-k<100||a.height.value-G.value-s-A.value<300)}function i(o){V.value===!0&&B(S,!0),_("focusin",o)}W(()=>e.modelValue,o=>{w("space",o),B(S,!0),a.animate()}),W(D,o=>{w("offset",o)}),W(()=>e.reveal,o=>{o===!1&&B(S,e.modelValue)}),W(S,o=>{a.animate(),_("reveal",o)}),W([A,a.scroll,a.height],R),W(()=>d.screen.height,o=>{a.isContainer.value!==!0&&B(M,o)});const C={};return a.instances.footer=C,e.modelValue===!0&&w("size",A.value),w("space",e.modelValue),w("offset",D.value),qe(()=>{a.instances.footer===C&&(a.instances.footer=void 0,w("size",0),w("offset",0),w("space",!1))}),()=>{const o=We(b.default,[h(je,{debounce:0,onResize:U})]);return e.elevated===!0&&o.push(h("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),h("footer",{class:L.value,style:E.value,onFocusin:i},o)}}});const Ot=[h("g",{transform:"translate(-20,-20)"},[h("path",{d:"M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z",fill:"currentColor"},[h("animateTransform",{attributeName:"transform",type:"rotate",from:"90 50 50",to:"0 50 50",dur:"1s",repeatCount:"indefinite"})])]),h("g",{transform:"translate(20,20) rotate(15 50 50)"},[h("path",{d:"M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z",fill:"currentColor"},[h("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"90 50 50",dur:"1s",repeatCount:"indefinite"})])])];se({name:"QSpinnerGears",props:vt,setup(e){const{cSize:b,classes:_}=ft(e);return()=>h("svg",{class:_.value,width:b.value,height:b.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},Ot)}});function Ht(){return{LEVEL_PENDATAAN:{LEVEL_PENDATAAN_SENSUS:"Sensus",LEVEL_PENDATAAN_SURVEI:"Survei Sampel"}}}const H=e=>(kt("data-v-2eae3cb1"),e=e(),Tt(),e),Gt={class:"flex justify-between"},Yt={class:"space-between"},Xt={class:"text-h6"},Zt=H(()=>f("div",{class:"text-subtitle2"},"Selamat datang di CERDAS",-1)),Jt={class:"col-4 text-center"},ea=H(()=>f("div",{class:"text-caption"},"Kegiatan",-1)),ta={class:"text-h6"},aa={class:"col-4 text-center"},la=H(()=>f("div",{class:"text-caption"},"Kegiatan Berjalan",-1)),na={class:"text-h6"},oa={class:"col-4 text-center"},ra=H(()=>f("div",{class:"text-caption"},"Assignment",-1)),ia={class:"text-h6"},sa={class:"row q-mt-md"},ua=H(()=>f("div",{class:"col-8"},[f("div",{class:"text-h6"},"Daftar Survei")],-1)),ca={class:"col-4 text-right"},da=H(()=>f("br",null,null,-1)),va={class:"text-h6"},fa={class:"text-subtitle2"},ma=H(()=>f("h4",null,"Upload",-1)),ha=H(()=>f("h4",null,"Bantuan",-1)),ga=H(()=>f("div",{class:"text-h6 q-mb-md"},"Pengaturan",-1)),ba=["src"],_a={__name:"BerandaPage",setup(e){const{isOnline:b}=Et(),_=m(!1),{getKegiatans:d,getRekapitulasiKegiatan:a,initKegiatanService:A,setSelectedKegiatan:S}=Qt(),{user:M,token:K,initToken:G,logout:D,redirectIfTokenExpired:Y,getFormattedTokenExpirationDate:V,getTokenExpirationDate:L,isTokenExpired:E,getShowSuccessLogin:w,setShowSuccessLogin:B}=It(),U=Ht(),R=m({}),i=mt(),C=ht(),o=m(""),s=Rt(),k=m("beranda-page");m(!1),$t();const q=m({}),Q=m({}),ue=m(!1),Le=m(0),ge=m(!0),xe=async()=>{if("serviceWorker"in navigator)try{const T=await navigator.serviceWorker.ready;await T.update(),T.waiting?(_.value=!0,s.notify({message:"A new version is available. Click update to apply it.",color:"info",actions:[{label:"Update",color:"white",handler:()=>ee(T)}]})):s.notify({message:"Your app is up to date.",color:"positive"})}catch(T){console.error("Error checking for updates:",T),s.notify({message:"Failed to check for updates.",color:"negative"})}},ee=T=>{T.waiting&&T.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload()},te=()=>{Le.value+=1};gt(async()=>{G()}),Ke(async()=>{"serviceWorker"in navigator&&b.value&&navigator.serviceWorker.addEventListener("controllerchange",()=>{window.location.reload()}),ue.value=w(),console.log("showSuccessLogin:",ue.value);try{if(q.value=await a(),Q.value=await d(),console.log("rekapitulasi",q.value),console.log("kegiatan",Q.value),ue.value){if(o.value=await V(),R.value=await M(),!Boolean(R.value))throw new Error("User tidak ditemukan");console.log("this is",o.value),i.query.loginSuccess==="true"&&s.notify({progress:!0,message:"Berhasil login",icon:"check",color:"green",textColor:"white",timeout:2e3}),ge.value&&(console.log("redirecting",k.value),te(),ge.value=!1)}o.value=await V()}catch(T){s.notify({type:"negative",message:"Login gagal: "+T.message,progress:!0,timeout:2e3}),C.push("/login")}s.loading.hide(),console.log("this is user active",R.value)});const ce=async()=>{await D(),C.push(await Y())},de=()=>{s.dialog({title:"Confirm",message:"Apakah Anda ingin logout?",cancel:!0,persistent:!0}).onOk(()=>{s.dialog({title:"Confirm",message:"Apakah Anda yakin?",cancel:!0,persistent:!0}).onOk(()=>{ce()})}).onOk(()=>{}).onCancel(()=>{}).onDismiss(()=>{})},ae=async()=>{let T=s.notify({progress:!0,spinner:!0,message:"Sync",color:"primary",textColor:"white",timeout:5e3});await A(!0),q.value=await a(),Q.value=await d(),setTimeout(T,2e3)};qe(()=>{B(!1)});const be=async T=>{await S(T),C.push(`/nav/kegiatans/${T.id}`)};return(T,N)=>(J(),ne(Bt,{class:"q-pa-md"},{default:r(()=>[l(Mt,{modelValue:k.value,"onUpdate:modelValue":N[0]||(N[0]=$=>k.value=$),animated:"",swipeable:"",class:"full-height",style:{"min-height":"100%"}},{default:r(()=>[l(ke,{name:"beranda-page","keep-alive":"true"},{default:r(()=>{var $,ve;return[f("div",Gt,[f("div",Yt,[f("div",Xt,"Halo, "+O(($=R.value)==null?void 0:$.name)+"!",1),Zt]),l(fe,{icon:me(b)?"signal_wifi_4_bar":"signal_wifi_off",class:bt({"text-positive":me(b),"text-negative":!me(b),"pulse-animation":!me(b)}),rounded:"",flat:""},null,8,["icon","class"])]),l(Re,{flat:"",bordered:"",class:"q-mt-md"},{default:r(()=>[l(Ne,{class:"row items-center q-pb-none"},{default:r(()=>{var z,le,F,_e,pe,ye;return[f("div",Jt,[l(P,{name:"assignment",size:"sm",color:"primary"}),ea,f("div",ta,O((le=(z=q.value)==null?void 0:z.kegiatan)!=null?le:0),1)]),f("div",aa,[l(P,{name:"schedule",size:"sm",color:"primary"}),la,f("div",na,O((_e=(F=q.value)==null?void 0:F.periode)!=null?_e:0),1)]),f("div",oa,[l(P,{name:"group",size:"sm",color:"primary"}),ra,f("div",ia,O((ye=(pe=q.value)==null?void 0:pe.assignment)!=null?ye:0),1)])]}),_:1})]),_:1}),f("div",sa,[ua,f("div",ca,[l(fe,{icon:"sync",color:"primary",label:"SYNC",rounded:"",onClick:ae})])]),da,f("div",null,[l(fe,{label:_.value?"Update Available":"Check for Updates",color:_.value?"primary":"secondary",onClick:xe},null,8,["label","color"])]),(J(!0),_t(yt,null,pt((ve=Q.value)==null?void 0:ve.data,z=>oe((J(),ne(Re,{onClick:le=>be(z),class:"q-mt-sm",key:z.id},{default:r(()=>[l(Ne,null,{default:r(()=>[f("div",va,O(z.nama+" "+z.tahun),1),f("div",fa,O(me(U).LEVEL_PENDATAAN[z.level_pendataan]),1)]),_:2},1024),l(Ct,null,{default:r(()=>[l(fe,{flat:"",color:"primary",icon:"chevron_right"})]),_:1})]),_:2},1032,["onClick"])),[[re]])),128))]}),_:1}),l(ke,{name:"upload-page"},{default:r(()=>[ma]),_:1}),l(ke,{name:"bantuan-page"},{default:r(()=>[ha]),_:1}),l(ke,{name:"pengaturan-page"},{default:r(()=>[ga,l(Re,{class:"q-mb-md"},{default:r(()=>[l(he,null,{default:r(()=>[l(I,{avatar:""},{default:r(()=>[l(wt,null,{default:r(()=>[f("img",{src:R.value.picture},null,8,ba)]),_:1})]),_:1}),l(I,null,{default:r(()=>[l(Ce,null,{default:r(()=>[Z(O(R.value.name),1)]),_:1}),l(Ce,{caption:""},{default:r(()=>[Z(O(R.value.email),1)]),_:1}),l(Ce,{caption:""},{default:r(()=>[Z("session expired:")]),_:1}),l(Ce,{caption:""},{default:r(()=>[Z(O(o.value),1)]),_:1})]),_:1})]),_:1})]),_:1}),l(Pt,{bordered:"",separator:""},{default:r(()=>[oe((J(),ne(he,{clickable:""},{default:r(()=>[l(I,{avatar:""},{default:r(()=>[l(P,{name:"smartphone",color:"primary"})]),_:1}),l(I,null,{default:r(()=>[Z("Sistem")]),_:1}),l(I,{side:""},{default:r(()=>[l(P,{name:"chevron_right",color:"grey"})]),_:1})]),_:1})),[[re]]),oe((J(),ne(he,{clickable:""},{default:r(()=>[l(I,{avatar:""},{default:r(()=>[l(P,{name:"backup",color:"primary"})]),_:1}),l(I,null,{default:r(()=>[Z("Backup")]),_:1}),l(I,{side:""},{default:r(()=>[l(P,{name:"chevron_right",color:"grey"})]),_:1})]),_:1})),[[re]]),oe((J(),ne(he,{clickable:""},{default:r(()=>[l(I,{avatar:""},{default:r(()=>[l(P,{name:"policy",color:"primary"})]),_:1}),l(I,null,{default:r(()=>[Z("Kebijakan Privasi")]),_:1}),l(I,{side:""},{default:r(()=>[l(P,{name:"chevron_right",color:"grey"})]),_:1})]),_:1})),[[re]]),oe((J(),ne(he,{clickable:""},{default:r(()=>[l(I,{avatar:""},{default:r(()=>[l(P,{name:"help",color:"primary"})]),_:1}),l(I,null,{default:r(()=>[Z("FAQ Aplikasi")]),_:1}),l(I,{side:""},{default:r(()=>[l(P,{name:"chevron_right",color:"grey"})]),_:1})]),_:1})),[[re]])]),_:1}),l(fe,{class:"full-width q-mt-lg",color:"primary",outline:"",label:"LOGOUT",onClick:de})]),_:1})]),_:1},8,["modelValue"]),l(jt,null,{default:r(()=>[l(Wt,{modelValue:k.value,"onUpdate:modelValue":N[1]||(N[1]=$=>k.value=$),"no-caps":"",align:"justify","active-color":"primary","indicator-color":"primary",class:"bg-grey-3 text-grey",flat:""},{default:r(()=>[l(Te,{name:"beranda-page",icon:"home",label:"Beranda"}),l(Te,{name:"upload-page",icon:"cloud_upload",label:"Upload"}),l(Te,{name:"bantuan-page",icon:"help",label:"Bantuan"}),l(Te,{name:"pengaturan-page",icon:"settings",label:"Pengaturan"})]),_:1},8,["modelValue"])]),_:1})]),_:1}))}};var Ma=Vt(_a,[["__scopeId","data-v-2eae3cb1"]]);export{Ma as default};
