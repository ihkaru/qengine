import{V as K,r as _,ab as P,ah as B,ac as I,b as r,i as v,w as t,p as e,z as o,f as s,ap as Q,b2 as l,v as L,b3 as S,e as w,h as R,F as V,y as q,g as H,aE as M,b4 as N,b5 as U}from"./index.483fdc7e.js";import{Q as j}from"./QPage.7e093402.js";import{u as A}from"./useSyncService.8b7e2330.js";import{u as E}from"./use-quasar.535c9ca6.js";import{_ as F}from"./plugin-vue_export-helper.21dcd24c.js";import"./useOnlineStatus.400f4b22.js";const $=()=>({daysUntil:i=>{const p=new Date(i),g=new Date,h=p-g;return Math.ceil(h/(1e3*60*60*24))}});const f=c=>(N("data-v-57169c28"),c=c(),U(),c),z={class:"text-center text-weight-bold text-blue-7"},O=f(()=>e("br",null,null,-1)),T={class:"col-4 text-right"},G=f(()=>e("br",null,null,-1)),J={class:"text-h6"},W={class:"row justify-around"},X={class:"text-h5 text-center"},Y={class:"text-caption text-center"},Z={class:"text-subtitle2"},ee=f(()=>e("div",{class:"text-subtitle2"},"Data loaded",-1)),te={__name:"DashboardKegiatanPage",setup(c){const i=E(),p=$(),g=K(),h=A();_(null);const m=P(),n=_(null);B();const u=_(null),k=_({Open:0,Submit:0,Reject:0,Pending:0,Approved:30});I(async()=>{let d=null;if(!Boolean(u.value))try{d=i.notify({progress:!0,message:"Mengambil data",spinner:!0,color:"blue",textColor:"white"}),u.value=await h.handleLoadKegiatan(),d()}catch(y){d=i.notify({type:"negative",progress:!0,message:y.message})}n.value=await m.getSelectedKegiatan(),console.log(u)});const C=async()=>{g.push(`/nav/kegiatans/${n.value.id}/list-level-1`)};return(d,y)=>(r(),v(j,{class:"q-pa-md"},{default:t(()=>{var b,x;return[e("h5",z,o((b=n.value)==null?void 0:b.nama)+" "+o((x=n.value)==null?void 0:x.tahun),1),O,e("div",T,[s(Q,{icon:"sync",color:"primary",label:"Sync Periode",rounded:""})]),G,s(S,{class:"my-card"},{default:t(()=>[s(l),s(l,null,{default:t(()=>[L((r(),v(S,{class:"bg-primary text-white",onClick:C},{default:t(()=>[s(l,null,{default:t(()=>{var a;return[e("div",J,o((a=n.value)==null?void 0:a.subkategori),1)]}),_:1}),s(l,{class:"q-pt-none"},{default:t(()=>[e("div",W,[(r(!0),w(V,null,R(k.value,(a,D)=>(r(),w("div",{key:D,class:"ext-center"},[e("div",X,o(a),1),e("div",Y,o(D),1)]))),128))])]),_:1}),s(l,null,{default:t(()=>{var a;return[e("div",Z,"Selesai "+o(q(p).daysUntil((a=n.value)==null?void 0:a.tgl_tutup))+" Hari Lagi - PPL ",1)]}),_:1}),u.value!=null?(r(),v(l,{key:0},{default:t(()=>[ee]),_:1})):H("",!0)]),_:1})),[[M]])]),_:1})]),_:1})]}),_:1}))}};var re=F(te,[["__scopeId","data-v-57169c28"]]);export{re as default};
