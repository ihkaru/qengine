import{V as b,W as h,r as m,ab as S,t as x,c as d,a as T,e as s,j as l,w as a,n as B,z as p,g as t,am as i,an as f,A as K,x as D,X as A,Y as L,l as H,aA as I}from"./index.03381602.js";import{Q as N,a as R,b as V}from"./QHeader.a4aa8a4e.js";import{Q as z,a as M,b as P}from"./QList.0c3a28f2.js";import{Q as j}from"./QMenu.9b874209.js";import{Q as q}from"./QPageContainer.8140715e.js";import{Q as F}from"./QLayout.a3ce7557.js";import{C as O}from"./ClosePopup.e49cd247.js";import{u as W}from"./use-quasar.01995336.js";import{u as X}from"./useBackHandler.b26bc649.js";import{u as Y}from"./useKegiatanService.d39b90da.js";import{u as $}from"./useSyncService.2121ad47.js";import"./QResizeObserver.9cb61017.js";import"./selection.91be9fec.js";import"./local-forage.02328131.js";import"./_commonjsHelpers.dffb1198.js";import"./axios.5217f070.js";import"./useOnlineStatus.4cfc2d6a.js";const pe={__name:"NavLayout",setup(E){const n=W(),v=$();b();const o=h(),r=m(null),_=Y(),g=X(),c=m(o.meta.title||"Default Title");S(async()=>{r.value=await _.getSelectedKegiatan(),console.log(r.value)}),x(o,e=>{c.value=e.meta.title||"Default Title"});const y=d(()=>{var e;return console.log("called enter"),((e=o.meta.transition)==null?void 0:e.enter)||"animated fadeIn"}),Q=d(()=>{var e;return console.log("called leave"),((e=o.meta.transition)==null?void 0:e.leave)||"animated fadeOut"}),w=async()=>{let e=0;try{e=n.notify({spinner:!0,message:"Sync",color:"blue",textColor:"white"}),await v.syncKegiatan(r.value.id),e()}catch(u){e(),n.notify({message:u.message,type:"negative"})}};return(e,u)=>{const C=T("router-view");return s(),l(F,{view:"lHh Lpr lFf",class:B({"body--dark":p(n).dark.isActive})},{default:a(()=>[t(V,{elevated:"",class:"bg-primary text-white"},{default:a(()=>[t(N,null,{default:a(()=>[t(i,{dense:"",flat:"",round:"",icon:"arrow_back",onClick:p(g).goBack},null,8,["onClick"]),t(R,null,{default:a(()=>[f(K(c.value),1)]),_:1}),t(i,{dense:"",flat:"",round:"",icon:"info"}),t(i,{dense:"",flat:"",round:"",icon:"more_vert"},{default:a(()=>[t(j,null,{default:a(()=>[t(z,null,{default:a(()=>[D((s(),l(M,{onClick:w,clickable:"",style:{"min-width":"150px"}},{default:a(()=>[t(P,null,{default:a(()=>[f(" Sync ")]),_:1})]),_:1})),[[I],[O]])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(q,null,{default:a(()=>[t(C,null,{default:a(({Component:k})=>[(s(),l(A,null,[t(L,{appear:"","enter-active-class":y.value,"leave-active-class":Q.value,mode:"out-in"},{default:a(()=>[(s(),l(H(k)))]),_:2},1032,["enter-active-class","leave-active-class"])],1024))]),_:1})]),_:1})]),_:1},8,["class"])}}};export{pe as default};
