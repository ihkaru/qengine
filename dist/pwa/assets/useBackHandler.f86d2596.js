import{u as c}from"./use-quasar.da3e8f94.js";import{W as p,V as d,r as l,o as m,u as v,ab as f,ac as g}from"./index.1ee64733.js";import{u as w}from"./useKegiatanService.0e52cf34.js";function y(){c();const t=p(),a=d(),e=l(0),s=l(null),u=w(),n=()=>{e.value++,e.value===1?(g.create({title:"Exit App",message:"Are you sure you want to exit the app?",cancel:!0,persistent:!0}).onOk(()=>{window.close()}).onCancel(()=>{e.value=0}).onDismiss(()=>{e.value=0}),setTimeout(()=>{e.value=0},3e3)):e.value===2&&window.close()},o=r=>{r.preventDefault(),i()},i=()=>{t.meta.title=="Beranda"?n():t.meta.title=="Periode"?a.push("/home/beranda"):t.meta.title=="Daftar Wilayah"?a.push(`/nav/kegiatans/${s.value.id}`):t.meta.title=="Daftar Assignment"?a.push(`/nav/kegiatans/${s.value.id}/list-level-1`):a.back()};return m(()=>{history.pushState(null,"",window.location.pathname),window.addEventListener("popstate",o)}),v(()=>{e.value=0,window.removeEventListener("popstate",o)}),f(async()=>{s.value=await u.getSelectedKegiatan(),console.log(s.value)}),{handleExit:n,goBack:i}}export{y as u};
