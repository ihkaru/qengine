import e from"./local-forage.02328131.js";import{api as K}from"./axios.7ff5b37b.js";import{r as s,o as p}from"./index.f689dd7e.js";function B(){const n=s(null),i=s(null),d=s(null),t=s(null),l=async()=>(Boolean(n.value)||(n.value=await e.getItem("kegiatans")),n.value),w=async a=>{await e.setItem("isLoggedIn",a),d.value=a},o=async()=>await e.getItem("isLoggedIn"),g=async a=>{await e.setItem("kegiatans",a),n.value=null},c=async()=>{t.value=JSON.parse(await e.getItem("selectedKegiatan"))},I=async()=>(Boolean(t.value)||await c(),t.value),m=async a=>{t.value=await a,console.log(t.value),await e.setItem("selectedKegiatan",JSON.stringify(t.value))},y=async()=>(Boolean(i.value)||(i.value=await e.getItem("rekapitulasi_kegiatan")),i.value),u=async a=>{await e.setItem("rekapitulasi_kegiatan",a),i.value=a},r=async(a=!1)=>{(!Boolean(await l())&&await o()||a)&&K.get("/kegiatans?per_page=30").then(async v=>{await u(v.data.rekapitulasi),await g(v.data.kegiatans)})},k=async()=>{await g(null),await u(null)};return p(async()=>{await r()}),{getKegiatans:l,getRekapitulasiKegiatan:y,handleLogoutKegiatanService:k,setIsLoggedIn:w,getIsLoggedIn:o,initKegiatanService:r,getSelectedKegiatan:I,setSelectedKegiatan:m,loadSelectedKegiatan:c}}export{B as u};
